<div class="min-h-screen bg-[#edf2ff] text-black px-4 sm:px-6 py-6 sm:py-8 animate-fade-in-scale">
  <div class="mb-6">
    <button
      routerLink="/dashboard"
      class="bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded transition w-full sm:w-auto"
    >
      ← Volver al Panel
    </button>
  </div>

  <h2 class="text-2xl font-semibold mb-6 text-center sm:text-left">Listado de Productos</h2>

  <div class="max-w-md mb-6 mx-auto sm:mx-0">
    <input
      [(ngModel)]="filtro"
      type="text"
      placeholder="Buscar por código, nombre, marca o categoría..."
      class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
  </div>

  <div class="text-right font-semibold mb-2 text-sm text-gray-700">
    Mostrando {{ productosFiltrados().length }} de {{ productos.length }} productos
  </div>

  <!-- Vista de tabla (escritorio) -->
  <div class="overflow-x-auto max-h-[400px] overflow-y-auto bg-white rounded-lg shadow border">
    <div class="min-w-[900px] mx-auto">
      <table class="w-full text-sm text-left border-collapse">
        <thead class="sticky top-0 z-30 bg-[#1e293b] text-white">
          <tr>
            <th class="px-4 py-3">Código</th>
            <th class="px-4 py-3">Nombre</th>
            <th class="px-4 py-3">Marca</th>
            <th class="px-4 py-3">Talle</th>
            <th class="px-4 py-3">Categoría</th>
            <th class="px-4 py-3">Precio</th>
            <th class="px-4 py-3">Stock</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y">
          <tr *ngFor="let prod of productosFiltrados()">
            <td class="px-4 py-2">{{ prod.codigo }}</td>
            <td class="px-4 py-2">{{ prod.nombre }}</td>
            <td class="px-4 py-2">{{ prod.marca }}</td>
            <td class="px-4 py-2">{{ prod.talle }}</td>
            <td class="px-4 py-2">{{ prod.categoria }}</td>
            <td class="px-4 py-2">{{ prod.precio | monedaArs }}</td>
            <td class="px-4 py-2">{{ prod.cantidad_stock }}</td>
          </tr>
        </tbody>
      </table>
    </div>
     <!-- Mensaje si no se encuentran productos (escritorio) -->
    <div *ngIf="productosFiltrados().length === 0" class="text-center text-gray-600 py-4">
      No se encontraron productos
    </div>
  </div>

  <!-- Vista tipo tarjeta (mobile) -->
  <div class="block sm:hidden space-y-4">
    <div *ngFor="let prod of productosFiltrados()" class="bg-white rounded-lg shadow p-4">
      <div class="mb-2"><strong>Código:</strong> {{ prod.codigo }}</div>
      <div class="mb-1"><strong>Nombre:</strong> {{ prod.nombre }}</div>
      <div class="mb-1"><strong>Marca:</strong> {{ prod.marca }}</div>
      <div class="mb-1"><strong>Talle:</strong> {{ prod.talle }}</div>
      <div class="mb-1"><strong>Categoría:</strong> {{ prod.categoria }}</div>
      <div class="mb-1"><strong>Precio:</strong> {{ prod.precio | monedaArs }}</div>
      <div class="mb-1"><strong>Stock:</strong> {{ prod.cantidad_stock }}</div>
    </div>

    <!-- Mensaje si no se encuentran productos (mobile) -->
    <div *ngIf="productosFiltrados().length === 0" class="text-center text-gray-600 py-4">
      No se encontraron productos
    </div>
  </div>
</div>
